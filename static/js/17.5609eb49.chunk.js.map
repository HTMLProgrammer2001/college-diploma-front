{"version":3,"sources":["../node_modules/redux-form/es/index.js","common/BackButton.tsx","common/formElements/InputElement.tsx","common/ErrorElement.tsx","utils/validators/required.ts","../node_modules/redux-form/es/selectors/isSubmitting.js","../node_modules/redux-form/es/isSubmitting.js","common/UserCan.tsx","common/SortItem.tsx","common/Paginator/index.tsx","utils/hooks/useHttp.ts","utils/helpers/debounce.ts","common/formElements/DataListElement.tsx","utils/helpers/objToParams.ts","../node_modules/react-bootstrap/esm/Spinner.js","utils/validators/positiveNumber.ts","common/formElements/SelectElement.tsx","redux/educations/all/selectors.ts","redux/educations/all/actions.ts","utils/api/models/educationsApi.ts","redux/educations/all/thunks.ts","pages/Educations/all/EducationsFilterForm.tsx","pages/Educations/all/EducationItem.tsx","redux/educations/delete/selectors.ts","redux/educations/delete/actions.ts","redux/educations/delete/thunks.ts","pages/Educations/all/EducationsTable.tsx","pages/Educations/all/index.tsx","redux/educations/edit/selectors.ts","redux/educations/edit/thunks/thunkEditEducationLoad.ts","redux/educations/edit/actions.ts","redux/educations/edit/thunks/thunkEditEducation.ts","pages/Educations/edit/EditEducationForm.tsx","pages/Educations/edit/index.tsx","redux/educations/add/thunks.ts","pages/Educations/add/AddEducationForm.tsx","pages/Educations/add/index.tsx","pages/Educations/single/EducationInfo.tsx","redux/educations/single/thunks.ts","redux/educations/single/actions.ts","redux/educations/single/selectors.ts","pages/Educations/single/index.tsx","pages/Educations/index.tsx"],"names":["reset","actions","arrayInsert","arrayMove","arrayPop","arrayPush","arrayRemove","arrayRemoveAll","arrayShift","arraySplice","arraySwap","arrayUnshift","autofill","blur","change","clearAsyncError","clearFields","clearSubmit","clearSubmitErrors","destroy","focus","initialize","registerField","startSubmit","resetSection","setSubmitFailed","setSubmitSucceeded","startAsyncValidation","stopSubmit","stopAsyncValidation","submit","touch","unregisterField","untouch","updateSyncWarnings","updateSyncErrors","BackButton","history","useHistory","variant","onClick","goBack","InputElement","onlyInValid","props","controlId","name","label","column","type","value","input","className","onChange","onFocus","onBlur","isValid","meta","touched","valid","undefined","isInvalid","error","Feedback","style","display","ErrorElement","required","str","createIsSubmitting","_ref","getIn","form","getFormState","state","nonNullGetFormState","plain","connected","connect","user","selectMeInfo","role","children","SortItem","param","cn","Paginator","totalItems","curPage","setCur","pageSize","size","hasPrev","totalPages","Math","ceil","hasNext","floor","curPaginator","Item","Array","fill","map","val","index","curItemNumber","key","active","useHttp","useState","isLoading","setLoading","setError","data","setData","handler","useCallback","a","url","headers","method","Promise","res","setTimeout","axios","request","params","Authorization","localStorage","getItem","resp","response","message","debounce","fn","delay","timer","args","clearTimeout","DataListElement","id","placeholder","multiple","isFilter","query","setQuery","selected","setSelected","reqData","useEffect","length","makeRequest","filter","includes","page","q","onInputChange","FormGroup","FormLabel","onSearch","console","log","filterBy","labelKey","maxResults","minLength","options","title","concat","emptyLabel","searchText","selectedOptions","opt","renderMenuItemChildren","option","FormControl","sortRules","isArray","forEach","item","Object","objKey","Spinner","React","forwardRef","ref","bsPrefix","animation","_ref$as","as","Component","_objectWithoutPropertiesLoose","bsSpinnerPrefix","useBootstrapPrefix","createElement","_extends","classNames","displayName","positiveNumber","numb","isFinite","SelectElement","custom","selectAllEducationsState","educations","all","selectAllEducationsSort","sort","selectAllEducationsPagination","currentPage","total","allEducationsStart","ALL_EDUCATIONS_START","allEducationsError","ALL_EDUCATIONS_ERROR","allEducationsSuccess","ranksResponse","ALL_EDUCATIONS_SUCCESS","payload","allEducationsDelete","ALL_EDUCATIONS_DELETE","client","create","baseURL","process","educationsApi","getEducations","filters","objToParams","get","getEducation","editEducation","vals","put","deleteEducation","delete","addEducation","post","importEducations","formData","FormData","append","thunkAllEducations","dispatch","getState","getFormValues","pagination","reduxForm","handleSubmit","onSubmit","Translation","t","Row","Field","component","onlyInvalid","validate","Button","EducationItem","education","isDeleting","del","fullName","qualification","graduate_year","UserCan","Roles","VIEWER","to","MODERATOR","selectDeleteEducations","deleteEducationStart","DELETE_EDUCATION_START","deleteEducationError","DELETE_EDUCATION_ERROR","deleteEducationSuccess","DELETE_EDUCATION_SUCCESS","thunkDeleteEducation","toast","success","deleting","changeSort","field","ALL_EDUCATIONS_CHANGE_SORT","allEducationsChangeSort","load","deleteItem","useTranslation","Table","striped","bordered","hover","minWidth","findSortRule","direction","colSpan","Loader","what","findIndex","paginator","changePage","document","Card","Body","Footer","selectEditEducationState","edit","selectEditEducation","thunkEditEducationLoad","EDIT_EDUCATION_LOAD_START","EDIT_EDUCATION_LOAD_SUCCESS","EDIT_EDUCATION_LOAD_ERROR","thunkEditEducation","_error","errors","graduateYear","editState","submitting","isSubmitting","loadEducation","send","IsUserRoleMore","match","EditEducationForm","disabled","thunkAddEducation","add","AddEducationForm","EducationInfo","Trans","i18nKey","institution","specialty","thunkSingleEducation","EDUCATION_SINGLE_START","EDUCATION_SINGLE_SUCCESS","EDUCATION_SINGLE_ERROR","selectEducationSingleState","single","path","exact","AllEducationsPage","AddEducationPage","EditEducationPage","SingleEducationPage","NotFoundPage"],"mappings":"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","file":"static/js/17.5609eb49.chunk.js","sourcesContent":["import actions from './actions';\nimport * as _actionTypes from './actionTypes';\nexport { default as defaultShouldAsyncValidate } from './defaultShouldAsyncValidate';\nexport { default as defaultShouldValidate } from './defaultShouldValidate';\nexport { default as defaultShouldError } from './defaultShouldError';\nexport { default as defaultShouldWarn } from './defaultShouldWarn';\nexport { default as Form } from './Form';\nexport { default as FormName } from './FormName';\nexport { default as FormSection } from './FormSection';\nexport { default as SubmissionError } from './SubmissionError'; // alias for propTypes\n\nexport { default as propTypes, fieldInputPropTypes, fieldMetaPropTypes, fieldPropTypes, fieldArrayFieldsPropTypes, fieldArrayMetaPropTypes, fieldArrayPropTypes, formPropTypes } from './propTypes';\nexport { default as Field } from './Field';\nexport { default as Fields } from './Fields';\nexport { default as FieldArray } from './FieldArray';\nexport { default as formValueSelector } from './formValueSelector';\nexport { default as formValues } from './formValues';\nexport { default as getFormError } from './getFormError';\nexport { default as getFormNames } from './getFormNames';\nexport { default as getFormValues } from './getFormValues';\nexport { default as getFormInitialValues } from './getFormInitialValues';\nexport { default as getFormSyncErrors } from './getFormSyncErrors';\nexport { default as getFormMeta } from './getFormMeta';\nexport { default as getFormAsyncErrors } from './getFormAsyncErrors';\nexport { default as getFormSyncWarnings } from './getFormSyncWarnings';\nexport { default as getFormSubmitErrors } from './getFormSubmitErrors';\nexport { default as isAsyncValidating } from './isAsyncValidating';\nexport { default as isDirty } from './isDirty';\nexport { default as isInvalid } from './isInvalid';\nexport { default as isPristine } from './isPristine';\nexport { default as isValid } from './isValid';\nexport { default as isSubmitting } from './isSubmitting';\nexport { default as hasSubmitSucceeded } from './hasSubmitSucceeded';\nexport { default as hasSubmitFailed } from './hasSubmitFailed';\nexport { default as reduxForm } from './reduxForm';\nexport { default as reducer } from './reducer';\nexport { default as values } from './values';\nexport var actionTypes = _actionTypes;\nexport var arrayInsert = actions.arrayInsert;\nexport var arrayMove = actions.arrayMove;\nexport var arrayPop = actions.arrayPop;\nexport var arrayPush = actions.arrayPush;\nexport var arrayRemove = actions.arrayRemove;\nexport var arrayRemoveAll = actions.arrayRemoveAll;\nexport var arrayShift = actions.arrayShift;\nexport var arraySplice = actions.arraySplice;\nexport var arraySwap = actions.arraySwap;\nexport var arrayUnshift = actions.arrayUnshift;\nexport var autofill = actions.autofill;\nexport var blur = actions.blur;\nexport var change = actions.change;\nexport var clearAsyncError = actions.clearAsyncError;\nexport var clearFields = actions.clearFields;\nexport var clearSubmit = actions.clearSubmit;\nexport var clearSubmitErrors = actions.clearSubmitErrors;\nexport var destroy = actions.destroy;\nexport var focus = actions.focus;\nexport var initialize = actions.initialize;\nexport var registerField = actions.registerField;\nexport var reset = actions.reset;\nexport var resetSection = actions.resetSection;\nexport var setSubmitFailed = actions.setSubmitFailed;\nexport var setSubmitSucceeded = actions.setSubmitSucceeded;\nexport var startAsyncValidation = actions.startAsyncValidation;\nexport var startSubmit = actions.startSubmit;\nexport var stopAsyncValidation = actions.stopAsyncValidation;\nexport var stopSubmit = actions.stopSubmit;\nexport var submit = actions.submit;\nexport var touch = actions.touch;\nexport var unregisterField = actions.unregisterField;\nexport var untouch = actions.untouch;\nexport var updateSyncWarnings = actions.updateSyncWarnings;\nexport var updateSyncErrors = actions.updateSyncErrors;","import React from 'react';\r\nimport {Button} from 'react-bootstrap';\r\nimport {useHistory} from 'react-router-dom';\r\n\r\n\r\nconst BackButton: React.FC<{}> = () => {\r\n\tconst history = useHistory();\r\n\r\n\treturn (\r\n\t\t<Button variant=\"light\" onClick={() => history.goBack()}>Назад</Button>\r\n\t);\r\n};\r\n\r\nexport default BackButton;\r\n","import React, {useEffect} from 'react';\r\nimport {WrappedFieldProps} from 'redux-form';\r\nimport {FormControl, FormGroup, FormLabel} from 'react-bootstrap';\r\n\r\n\r\ntype IInputElementProps = WrappedFieldProps & HTMLInputElement & {label: string, onlyInValid: boolean};\r\nconst InputElement: React.FC<IInputElementProps> = ({onlyInValid = true, ...props}) => {\r\n\t// useEffect(() => {\r\n\t// \tif(!props.meta.touched && props.defaultValue)\r\n\t// \t\tprops.input.onChange(props.defaultValue as any, props.name);\r\n\t// }, []);\r\n\r\n\treturn (\r\n\t\t<FormGroup controlId={props.name}>\r\n\t\t\t{\r\n\t\t\t\tprops.label &&\r\n\t\t\t\t<FormLabel column={true}>{props.label}</FormLabel>\r\n\t\t\t}\r\n\r\n\t\t<FormControl\r\n\t\t\ttype={props.type}\r\n\t\t\tname={props.name}\r\n\t\t\tvalue={props.input.value}\r\n\t\t\tclassName={props.className}\r\n\t\t\tonChange={props.input.onChange}\r\n\t\t\tonFocus={props.input.onFocus}\r\n\t\t\tonBlur={props.input.onBlur}\r\n\t\t\tisValid={!onlyInValid && props.meta.touched ? props.meta.valid : undefined}\r\n\t\t\tisInvalid={props.meta.touched ? !props.meta.valid : undefined}\r\n\t\t/>\r\n\r\n\t\t\t{\r\n\t\t\t\tprops.meta.error &&\r\n\t\t\t\t<FormControl.Feedback type=\"invalid\" style={{display: 'block'}}>\r\n\t\t\t\t\t{props.meta.touched && props.meta.error}\r\n\t\t\t\t</FormControl.Feedback>\r\n\t\t\t}\r\n\t\t</FormGroup>\r\n\t);\r\n};\r\n\r\nexport default InputElement;\r\n","import React from 'react';\r\n\r\n\r\ntype IErrorProps = {\r\n\terror?: string\r\n};\r\n\r\nconst ErrorElement: React.FC<IErrorProps> = ({error}) => (\r\n\t<div>{error || 'Произошла ошибка'}</div>\r\n);\r\n\r\nexport default ErrorElement;\r\n","const required = (str: string) => {\r\n\treturn str ? null : 'Поле обязательно для заполнения'\r\n};\r\n\r\nexport default required;\r\n","var createIsSubmitting = function createIsSubmitting(_ref) {\n  var getIn = _ref.getIn;\n  return function (form, getFormState) {\n    return function (state) {\n      var nonNullGetFormState = getFormState || function (state) {\n        return getIn(state, 'form');\n      };\n\n      return !!getIn(nonNullGetFormState(state), form + \".submitting\");\n    };\n  };\n};\n\nexport default createIsSubmitting;","import createIsSubmitting from './selectors/isSubmitting';\nimport plain from './structure/plain';\nexport default createIsSubmitting(plain);","import React from 'react';\r\nimport {connect, ConnectedProps} from 'react-redux';\r\n\r\nimport {RootState} from '../redux';\r\nimport {selectMeInfo} from '../redux/me/selectors';\r\n\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\tuser: selectMeInfo(state)\r\n});\r\n\r\nconst connected = connect(mapStateToProps);\r\n\r\ntype IUserCanProps = {role: number, children: any} & ConnectedProps<typeof connected>;\r\nconst UserCan: React.FC<IUserCanProps> = ({role, children, user}) => {\r\n\treturn user.role <= role ? <>{children}</> : null;\r\n};\r\n\r\nexport default connected(UserCan);\r\n","import React from 'react';\r\nimport cn from 'classnames';\r\n\r\n\r\ntype ISortItemProps = {\r\n\tstate: -1 | 1 | undefined,\r\n\tchange: (param: string) => void,\r\n\tparam: string\r\n};\r\n\r\nconst SortItem: React.FC<ISortItemProps> = ({state, change, param}) => (\r\n\t<i className={cn(\"fa cur pull-right\", {\r\n\t\t[\"fa-sort-amount-asc\"]: state == 1 || state == undefined,\r\n\t\t[\"fa-sort-amount-desc\"]: state == -1,\r\n\t\t[\"opacity-5\"]: state == undefined,\r\n\t})}\r\n\t   onClick={() => change(param)}\r\n\t/>\r\n);\r\n\r\nexport default SortItem;\r\n","import React from 'react';\r\nimport {Pagination} from 'react-bootstrap';\r\n\r\n\r\ntype IPaginatorProps = {\r\n\ttotalItems: number,\r\n\tcurPage: number,\r\n\tsize?: number,\r\n\tpageSize: number,\r\n\tsetCur: (page: number) => void\r\n};\r\n\r\nconst Paginator: React.FC<IPaginatorProps> = ({totalItems, curPage, setCur, pageSize, size = 5}) => {\r\n\tlet hasPrev = curPage > size,\r\n\t\ttotalPages = Math.ceil(totalItems/pageSize),\r\n\t\thasNext = totalPages > (Math.floor((curPage - 1) / size) + 1) * size,\r\n\t\tcurPaginator = Math.floor((curPage - 1) / size);\r\n\r\n\tif (totalPages <= 1)\r\n\t\treturn null;\r\n\r\n\treturn (\r\n\t\t<Pagination>\r\n\t\t\t{\r\n\t\t\t\thasPrev &&\r\n\t\t\t\t\t<Pagination.Item onClick={() => setCur((curPaginator - 1) * size + 1)}>\r\n\t\t\t\t\t\t&lt;\r\n\t\t\t\t\t</Pagination.Item>\r\n\t\t\t}\r\n\r\n\t\t\t{\r\n\t\t\t\tnew Array(size).fill('').map((val, index) => {\r\n\t\t\t\t\tconst curItemNumber = curPaginator * size + index + 1;\r\n\r\n\t\t\t\t\tif(curItemNumber > totalPages)\r\n\t\t\t\t\t\treturn null;\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Pagination.Item\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tactive={curPage == curItemNumber}\r\n\t\t\t\t\t\t\tonClick={() => setCur(curItemNumber)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{curItemNumber}\r\n\t\t\t\t\t\t</Pagination.Item>\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t{\r\n\t\t\t\thasNext &&\r\n\t\t\t\t\t<Pagination.Item onClick={() => setCur((curPaginator + 1) * size + 1)}>\r\n\t\t\t\t\t\t&gt;\r\n\t\t\t\t\t</Pagination.Item>}\r\n\t\t</Pagination>\r\n\t);\r\n};\r\n\r\nexport default Paginator;\r\n","import axios, {Method} from 'axios';\r\nimport {useCallback, useState} from 'react';\r\n\r\n\r\ntype IHttpHandlerOptions = {\r\n\turl: string,\r\n\tmethod?: Method,\r\n\theaders?: Object,\r\n\tdata?: Object\r\n}\r\n\r\nconst useHttp = <T>() => {\r\n\tconst [isLoading, setLoading] = useState(false);\r\n\tconst [error, setError] = useState<string>(null);\r\n\tconst [data, setData] = useState<T>(null);\r\n\r\n\tconst handler = useCallback(async ({url, headers, method, data}: IHttpHandlerOptions) => {\r\n\t\tsetLoading(true);\r\n\r\n\t\ttry {\r\n\t\t\tawait new Promise(res => {\r\n\t\t\t\tsetTimeout(res, 3000);\r\n\t\t\t});\r\n\r\n\t\t\tconst resp = await axios.request<T>({\r\n\t\t\t\tmethod, url, params: data, headers: {\r\n\t\t\t\t\t...headers,\r\n\t\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('token')}`,\r\n\t\t\t\t\t'Access-Control-Allow-Origin': '*'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tsetData(resp.data);\r\n\t\t} catch (e) {\r\n\t\t\tsetError(e.response?.data.message || e.message);\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t}, [isLoading, error, data]);\r\n\r\n\treturn {isLoading, error, data, request: handler};\r\n};\r\n\r\nexport default useHttp;\r\n","const debounce = (fn: Function, delay: number): any => {\r\n\tlet timer: any = null;\r\n\r\n\treturn (...args: any[]) => {\r\n\t\tif(timer)\r\n\t\t\tclearTimeout(timer);\r\n\r\n\t\ttimer = setTimeout(() => {\r\n\t\t\tfn(...args);\r\n\t\t}, delay);\r\n\t};\r\n};\r\n\r\nexport default debounce;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {AsyncTypeahead} from 'react-bootstrap-typeahead';\r\nimport {WrappedFieldProps} from 'redux-form';\r\nimport {FormControl, FormGroup, FormLabel} from 'react-bootstrap';\r\n\r\nimport useHttp from '../../utils/hooks/useHttp';\r\nimport {IGeneralPaginationResponse} from '../../interfaces/responses/IGeneralPaginationResponse';\r\nimport debounce from '../../utils/helpers/debounce';\r\n\r\n\r\ntype IDataListOwnProps = {\r\n\turl: string,\r\n\tid: string,\r\n\tplaceholder?: string,\r\n\tsize?: number,\r\n\tmultiple?: boolean,\r\n\tisFilter?: boolean\r\n};\r\n\r\ntype IOption = {\r\n\tid: number,\r\n\ttitle: string\r\n};\r\n\r\ntype IDataListElementProps = WrappedFieldProps & IDataListOwnProps;\r\nconst DataListElement: React.FC<IDataListElementProps> = (props) => {\r\n\tconst {id, placeholder, url, size = 5, multiple, isFilter, input: {onChange, name, value}} = props;\r\n\r\n\t//hooks\r\n\tconst [query, setQuery] = useState(null);\r\n\tconst [selected, setSelected] = useState<IOption[]>([]);\r\n\tconst {request, error, isLoading, data: reqData} = useHttp<IGeneralPaginationResponse<IOption>>();\r\n\r\n\t//hook query changes\r\n\tuseEffect(() => {\r\n\t\tif (query != null && query.length >= 1)\r\n\t\t\tmakeRequest();\r\n\t}, [query]);\r\n\r\n\t//hook for selected\r\n\tuseEffect(() => {\r\n\t\tif(!multiple)\r\n\t\t\tsetSelected(value ? selected.filter(({id}) => id == value) : []);\r\n\t\telse\r\n\t\t\tsetSelected(value ? selected.filter(({id}) => value.includes(id)) : []);\r\n\t}, [value]);\r\n\r\n\t//wrapper for making http request\r\n\tconst makeRequest = async (page = 1) => {\r\n\t\tconst data = {q: query, page, pageSize: size};\r\n\t\tawait request({url, data});\r\n\t};\r\n\r\n\t//input change handler\r\n\tconst onInputChange = debounce(async (query: string) => {\r\n\t\t//change cur query\r\n\t\tsetQuery(query);\r\n\t}, 500);\r\n\r\n\tconst onSelect = (selectedOptions: IOption[]) => {\r\n\t\tsetSelected(selectedOptions);\r\n\r\n\t\tif(!multiple) {\r\n\t\t\tif (!selectedOptions.length)\r\n\t\t\t\tonChange(null, name);\r\n\t\t\telse\r\n\t\t\t\tonChange(selectedOptions[0].id as any, name);\r\n\t\t}\r\n\t\telse\r\n\t\t\tonChange(selectedOptions.map((opt) => opt.id) as any, name);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormGroup controlId={id}>\r\n\t\t\t{\r\n\t\t\t\tplaceholder &&\r\n\t\t\t\t\t<FormLabel column={true}>{placeholder}</FormLabel>\r\n\t\t\t}\r\n\r\n\t\t\t<AsyncTypeahead\r\n\t\t\t\tonInputChange={onInputChange}\r\n\t\t\t\tonSearch={() => {console.log('Search')}}\r\n\t\t\t\tfilterBy={['title']}\r\n\t\t\t\tlabelKey=\"title\"\r\n\r\n\t\t\t\tid={name}\r\n\t\t\t\tmaxResults={size}\r\n\t\t\t\tminLength={1}\r\n\t\t\t\toptions={(isFilter ? [{id: -1, title: 'All'}] : []).concat(reqData?.data ? reqData.data : [])}\r\n\t\t\t\tisLoading={isLoading}\r\n\t\t\t\temptyLabel=\"No items\"\r\n\t\t\t\tsearchText=\"Search...\"\r\n\t\t\t\tisInvalid={!!error}\r\n\t\t\t\tonChange={onSelect}\r\n\t\t\t\tselected={selected}\r\n\t\t\t\tmultiple={multiple}\r\n\r\n\t\t\t\trenderMenuItemChildren={(option: IOption) => (\r\n\t\t\t\t\t<div key={option.id}>\r\n\t\t\t\t\t\t{option.title}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\r\n\t\t\t{\r\n\t\t\t\tprops.meta.touched && (error || props.meta.error) &&\r\n\t\t\t\t<FormControl.Feedback type=\"invalid\" style={{display: 'block'}}>\r\n\t\t\t\t\t{error || props.meta.error}\r\n\t\t\t\t</FormControl.Feedback>\r\n\t\t\t}\r\n\t\t</FormGroup>\r\n\t);\r\n};\r\n\r\nexport default DataListElement;\r\n","export default (data: Object | Array<any>, name: string): Object => {\r\n\tlet sortRules: any = {};\r\n\r\n\tif(Array.isArray(data)){\r\n\t\tdata.forEach((item, index) => {\r\n\t\t\tlet key = `${name}[${index}]`;\r\n\t\t\tsortRules[key] = item;\r\n\t\t});\r\n\r\n\t\treturn sortRules;\r\n\t}\r\n\r\n\telse if(data instanceof Object){\r\n\t\tfor(let objKey in data){\r\n\t\t\tlet key = `${name}[${objKey}]`;\r\n\t\t\tsortRules[key] = (data as any)[objKey];\r\n\t\t}\r\n\r\n\t\treturn sortRules;\r\n\t}\r\n};\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Spinner = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      animation = _ref.animation,\n      size = _ref.size,\n      children = _ref.children,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"variant\", \"animation\", \"size\", \"children\", \"as\", \"className\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'spinner');\n  var bsSpinnerPrefix = bsPrefix + \"-\" + animation;\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsSpinnerPrefix, size && bsSpinnerPrefix + \"-\" + size, variant && \"text-\" + variant)\n  }), children);\n});\nSpinner.displayName = 'Spinner';\nexport default Spinner;","const positiveNumber = (str: string) => {\r\n\tif(str === null)\r\n\t\treturn null;\r\n\r\n\tlet numb = +str;\r\n\treturn isFinite(numb) && numb >= 0 ? null : 'Введите положительное число';\r\n};\r\n\r\nexport default positiveNumber;\r\n","import React from 'react';\r\nimport {WrappedFieldProps} from 'redux-form';\r\nimport {FormControl, FormGroup, FormLabel} from 'react-bootstrap';\r\n\r\n\r\ntype ISelectElementProps = WrappedFieldProps & HTMLSelectElement & {label: string, onlyInValid: boolean};\r\nconst SelectElement: React.FC<ISelectElementProps> = ({onlyInValid = true, ...props}) => (\r\n\t<FormGroup controlId={props.name}>\r\n\t\t{\r\n\t\t\tprops.label &&\r\n\t\t\t<FormLabel column={true}>{props.label}</FormLabel>\r\n\t\t}\r\n\r\n\t\t<FormControl\r\n\t\t\tname={props.name}\r\n\t\t\tas=\"select\"\r\n\t\t\tvalue={props.input.value}\r\n\t\t\tclassName={props.className}\r\n\t\t\tonChange={props.input.onChange}\r\n\t\t\tisValid={!onlyInValid && props.meta.touched ? props.meta.valid : undefined}\r\n\t\t\tisInvalid={props.meta.touched ? !props.meta.valid : undefined}\r\n\t\t\tcustom\r\n\t\t>\r\n\t\t\t{props.children}\r\n\t\t</FormControl>\r\n\r\n\t\t{\r\n\t\t\tprops.meta.error &&\r\n\t\t\t<FormControl.Feedback type=\"invalid\" style={{display: 'block'}}>\r\n\t\t\t\t{props.meta.touched && props.meta.error}\r\n\t\t\t</FormControl.Feedback>\r\n\t\t}\r\n\t</FormGroup>\r\n);\r\n\r\nexport default SelectElement;\r\n","import {RootState} from '../../';\r\n\r\n\r\nexport const selectAllEducationsState = (state: RootState) => state.educations.all;\r\nexport const selectAllEducations = (state: RootState) => selectAllEducationsState(state).educations;\r\nexport const selectAllEducationsSort = (state: RootState) => selectAllEducationsState(state).sort;\r\n\r\nexport const selectAllEducationsPagination = (state: RootState) => ({\r\n\tpageSize: selectAllEducationsState(state).pageSize,\r\n\tcurPage: selectAllEducationsState(state).currentPage,\r\n\ttotalItems: selectAllEducationsState(state).total\r\n});\r\n","import {\r\n\tALL_EDUCATIONS_CHANGE_SORT,\r\n\tALL_EDUCATIONS_ERROR,\r\n\tALL_EDUCATIONS_START,\r\n\tALL_EDUCATIONS_SUCCESS,\r\n\tALL_EDUCATIONS_DELETE\r\n} from './types';\r\n\r\nimport {IGeneralPaginationResponse} from '../../../interfaces/responses/IGeneralPaginationResponse';\r\nimport {IEducation} from '../../../interfaces/models/IEducation';\r\n\r\n\r\ntype IResponse = IGeneralPaginationResponse<IEducation>;\r\n\r\nexport const allEducationsStart = () => <const>({\r\n\ttype: ALL_EDUCATIONS_START\r\n});\r\n\r\nexport const allEducationsError = (error: string) => <const>({\r\n\ttype: ALL_EDUCATIONS_ERROR,\r\n\terror\r\n});\r\n\r\nexport const allEducationsSuccess = (ranksResponse: IResponse) => <const>({\r\n\ttype: ALL_EDUCATIONS_SUCCESS,\r\n\tpayload: ranksResponse\r\n});\r\n\r\nexport const allEducationsChangeSort = (field: string) => <const>({\r\n\ttype: ALL_EDUCATIONS_CHANGE_SORT,\r\n\tpayload: field\r\n});\r\n\r\nexport const allEducationsDelete = (id: number) => <const>({\r\n\ttype: ALL_EDUCATIONS_DELETE,\r\n\tpayload: id\r\n});\r\n","import axios from 'axios';\r\n\r\nimport {ISort} from '../../../interfaces/ISort';\r\nimport {IGeneralPaginationResponse} from '../../../interfaces/responses/IGeneralPaginationResponse';\r\n\r\nimport objToParams from '../../helpers/objToParams';\r\nimport {IEducation} from '../../../interfaces/models/IEducation';\r\n\r\n\r\nconst client = axios.create({\r\n\tbaseURL: `${process.env.REACT_APP_SERVER_URL}/educations`,\r\n\theaders: {\r\n\t\t'Access-Control-Allow-Origin': '*',\r\n\t\tAuthorization: `Bearer ${localStorage.getItem('token')}`\r\n\t}\r\n});\r\n\r\nconst educationsApi = {\r\n\tasync getEducations(filters: any = {}, sort: ISort[] = [], page = 1, pageSize = 5) {\r\n\t\tconst sortRules = objToParams(sort, 'sort');\r\n\r\n\t\treturn await client.get<IGeneralPaginationResponse<IEducation>>('/', {\r\n\t\t\tparams: {...filters, ...sortRules, page, pageSize}\r\n\t\t});\r\n\t},\r\n\r\n\tasync getEducation(id: number) {\r\n\t\treturn await client.get<{data: IEducation}>(`/${id}`);\r\n\t},\r\n\r\n\tasync editEducation(id: number, vals: any) {\r\n\t\treturn await client.put<IEducation>(`/${id}`, vals);\r\n\t},\r\n\r\n\tasync deleteEducation(id: number) {\r\n\t\treturn await client.delete<{ message: string }>(`/${id}`);\r\n\t},\r\n\r\n\tasync addEducation(vals: any) {\r\n\t\treturn await client.post('/add', vals);\r\n\t},\r\n\r\n\tasync importEducations(vals: any){\r\n\t\tlet formData = new FormData();\r\n\r\n\t\tfor(let key in vals){\r\n\t\t\tformData.append(key, (vals as any)[key]);\r\n\t\t}\r\n\r\n\t\treturn await client.post('/import', formData);\r\n\t}\r\n};\r\n\r\nexport default educationsApi;\r\n","import {ThunkAction, ThunkDispatch} from 'redux-thunk';\r\nimport {getFormValues} from 'redux-form';\r\n\r\nimport {RootState} from '../../';\r\nimport {IAllEducationsActions} from './reducer';\r\n\r\nimport {\r\n\tallEducationsError,\r\n\tallEducationsStart,\r\n\tallEducationsSuccess\r\n} from './actions';\r\nimport {selectAllEducationsPagination, selectAllEducationsSort} from './selectors';\r\nimport educationsApi from '../../../utils/api/models/educationsApi';\r\n\r\n\r\nexport type IAllEducationsThunkAction = ThunkAction<void, RootState, unknown, IAllEducationsActions>;\r\n\r\nconst thunkAllEducations = (page: number = 1): IAllEducationsThunkAction => {\r\n\treturn async (dispatch: ThunkDispatch<{}, {}, IAllEducationsActions>, getState) => {\r\n\t\tdispatch(allEducationsStart());\r\n\r\n\t\ttry{\r\n\t\t\tconst form = getFormValues('educationsFilterForm'),\r\n\t\t\t\tsort = selectAllEducationsSort(getState()),\r\n\t\t\t\tpagination = selectAllEducationsPagination(getState());\r\n\r\n\t\t\tconst resp = await educationsApi.getEducations(form(getState()), sort, page, pagination.pageSize);\r\n\t\t\tdispatch(allEducationsSuccess(resp.data));\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tdispatch(allEducationsError(e.message));\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport default thunkAllEducations;\r\n","import React from 'react';\r\nimport {reduxForm, InjectedFormProps, Field} from 'redux-form';\r\nimport {Translation} from 'react-i18next';\r\nimport {Button, Row} from 'react-bootstrap';\r\n\r\nimport InputElement from '../../../common/formElements/InputElement';\r\nimport DataListElement from '../../../common/formElements/DataListElement';\r\nimport positiveNumber from '../../../utils/validators/positiveNumber';\r\nimport SelectElement from '../../../common/formElements/SelectElement';\r\n\r\n\r\nexport type IEducationsFilterData = {\r\n\tfilterUser: number,\r\n\tfilterQualification: number,\r\n\tfilterInstitution: string,\r\n\tfilterSpecialty: string,\r\n\tfilterGraduateFrom: number,\r\n\tfilterGraduateTo: number\r\n};\r\n\r\ntype IEducationsFilterFormProps = InjectedFormProps<IEducationsFilterData>;\r\nconst EducationsFilterForm: React.FC<IEducationsFilterFormProps> = ({handleSubmit}) => (\r\n\t<form onSubmit={handleSubmit} className=\"w-100 center flex-column my-3\">\r\n\t\t<Translation>\r\n\t\t\t{t => (\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tcomponent={DataListElement}\r\n\t\t\t\t\t\tname=\"filterUser\"\r\n\t\t\t\t\t\tid=\"filterUser\"\r\n\t\t\t\t\t\tclassName=\"w-100\"\r\n\t\t\t\t\t\tplaceholder={t('educations.all.filterUser')}\r\n\t\t\t\t\t\turl={`${process.env.REACT_APP_SERVER_URL}/search/users`}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tcomponent={SelectElement}\r\n\t\t\t\t\t\tname=\"filterQualification\"\r\n\t\t\t\t\t\tlabel={t(\"educations.all.qualification\")}\r\n\t\t\t\t\t\tonlyInvalid\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option selected value={-1}>{t('profile.tabs.educations.qualList.0')}</option>\r\n\t\t\t\t\t\t<option value={0}>{t('profile.tabs.educations.qualList.1')}</option>\r\n\t\t\t\t\t\t<option value={1}>{t('profile.tabs.educations.qualList.2')}</option>\r\n\t\t\t\t\t\t<option value={2}>{t('profile.tabs.educations.qualList.3')}</option>\r\n\t\t\t\t\t</Field>\r\n\t\t\t\t</Row>\r\n\t\t\t)}\r\n\t\t</Translation>\r\n\r\n\t\t<Translation>\r\n\t\t\t{t => (\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tcomponent={InputElement}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"filterInstitution\"\r\n\t\t\t\t\t\tclassName=\"w-100 ml-1\"\r\n\t\t\t\t\t\tlabel={t('educations.all.filterInstitution')}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tcomponent={InputElement}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"filterSpecialty\"\r\n\t\t\t\t\t\tclassName=\"w-100 ml-1\"\r\n\t\t\t\t\t\tlabel={t('educations.all.filterSpecialty')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Row>\r\n\t\t\t)}\r\n\t\t</Translation>\r\n\r\n\t\t<Translation>\r\n\t\t\t{t => (\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tcomponent={InputElement}\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tname=\"filterGraduateFrom\"\r\n\t\t\t\t\t\tclassName=\"w-100\"\r\n\t\t\t\t\t\tlabel={t('educations.all.filterGraduateFrom')}\r\n\t\t\t\t\t\tvalidate={[positiveNumber]}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tcomponent={InputElement}\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tname=\"filterGraduateTo\"\r\n\t\t\t\t\t\tclassName=\"w-100\"\r\n\t\t\t\t\t\tlabel={t('educations.all.filterGraduateTo')}\r\n\t\t\t\t\t\tvalidate={[positiveNumber]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Row>\r\n\t\t\t)}\r\n\t\t</Translation>\r\n\r\n\t\t<Translation>\r\n\t\t\t{t => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button variant=\"info\" type=\"submit\">\r\n\t\t\t\t\t\t{t('common.search')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</Translation>\r\n\t</form>\r\n);\r\n\r\nexport default reduxForm<IEducationsFilterData>({\r\n\tform: 'educationsFilterForm'\r\n})(EducationsFilterForm);\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Spinner} from 'react-bootstrap';\r\n\r\nimport {Roles} from '../../../utils/helpers/RoleCodeToName';\r\nimport UserCan from '../../../common/UserCan';\r\nimport {IEducation} from '../../../interfaces/models/IEducation';\r\n\r\n\r\ntype IEducationItemProps = {\r\n\teducation: IEducation,\r\n\tisDeleting: boolean,\r\n\tdel: (id: number) => void\r\n};\r\n\r\nconst EducationItem: React.FC<IEducationItemProps> = ({education, isDeleting, del}) => (\r\n\t<tr>\r\n\t\t<th>{education.id}</th>\r\n\t\t<th>{education.user.fullName}</th>\r\n\t\t<th>{education.qualification}</th>\r\n\t\t<th>{education.graduate_year}</th>\r\n\t\t<th>\r\n\t\t\t<UserCan role={Roles.VIEWER}>\r\n\t\t\t\t<Link to={`/educations/${education.id}`}>\r\n\t\t\t\t\t<i className=\"fa fa-eye\"/>\r\n\t\t\t\t</Link>\r\n\t\t\t</UserCan>\r\n\r\n\t\t\t<UserCan role={Roles.MODERATOR}>\r\n\t\t\t\t<Link to={`/educations/${education.id}/edit`}>\r\n\t\t\t\t\t<i className=\"fa fa-pencil\"/>\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tisDeleting ?\r\n\t\t\t\t\t\t<Link to=\"#\">\r\n\t\t\t\t\t\t\t<i className=\"fa fa-close\" onClick={() => del(education.id)}/>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Spinner animation=\"border\" size=\"sm\"/>\r\n\t\t\t\t}\r\n\t\t\t</UserCan>\r\n\t\t</th>\r\n\t</tr>\r\n);\r\n\r\nexport default EducationItem;\r\n","import {RootState} from '../../';\r\n\r\n\r\nexport const selectDeleteEducations = (state: RootState) => state.educations.del;\r\n","import {\r\n\tDELETE_EDUCATION_ERROR,\r\n\tDELETE_EDUCATION_START,\r\n\tDELETE_EDUCATION_SUCCESS\r\n} from './types';\r\n\r\n\r\nexport const deleteEducationStart = (id: number) => <const>({\r\n\ttype: DELETE_EDUCATION_START,\r\n\tpayload: id\r\n});\r\n\r\nexport const deleteEducationError = (id: number, error: string) => <const>({\r\n\ttype: DELETE_EDUCATION_ERROR,\r\n\terror,\r\n\tpayload: id\r\n});\r\n\r\nexport const deleteEducationSuccess = (id: number) => <const>({\r\n\ttype: DELETE_EDUCATION_SUCCESS,\r\n\tpayload: id\r\n});\r\n","import {ThunkAction, ThunkDispatch} from 'redux-thunk';\r\nimport {toast} from 'react-toastify';\r\n\r\nimport {RootState} from '../../index';\r\nimport {IDeleteEducationActions} from './reducer';\r\n\r\nimport {deleteEducationError, deleteEducationStart, deleteEducationSuccess} from './actions';\r\nimport {allEducationsDelete} from '../all/actions';\r\nimport educationsApi from '../../../utils/api/models/educationsApi';\r\n\r\n\r\ntype IActions = IDeleteEducationActions | ReturnType<typeof allEducationsDelete>;\r\nexport type IEducationEditThunkAction = ThunkAction<void, RootState, unknown, IActions>;\r\n\r\nconst thunkDeleteEducation = (id: number): IEducationEditThunkAction => {\r\n\treturn async (dispatch: ThunkDispatch<{}, {}, IActions>) => {\r\n\t\tdispatch(deleteEducationStart(id));\r\n\r\n\t\ttry{\r\n\t\t\tawait educationsApi.deleteEducation(id);\r\n\r\n\t\t\tdispatch(deleteEducationSuccess(id));\r\n\t\t\tdispatch(allEducationsDelete(id));\r\n\t\t\ttoast.success(`Образование с id ${id} удалено`);\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tdispatch(deleteEducationError(id, e.response?.data.message || e.message));\r\n\t\t\ttoast.error(`Ошибка: ${e.response?.data.message || e.message}`);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport default thunkDeleteEducation;\r\n","import React, {useEffect} from 'react';\r\nimport {Table} from 'react-bootstrap';\r\nimport {connect, ConnectedProps} from 'react-redux';\r\nimport {useTranslation} from 'react-i18next';\r\n\r\nimport {RootState} from '../../../redux';\r\n\r\nimport SortItem from '../../../common/SortItem';\r\nimport Loader from '../../../common/Loader/Loader';\r\nimport ErrorElement from '../../../common/ErrorElement';\r\nimport findSortRule from '../../../utils/helpers/findSortRule';\r\nimport EducationItem from './EducationItem';\r\nimport {selectAllEducationsState} from '../../../redux/educations/all/selectors';\r\nimport {selectDeleteEducations} from '../../../redux/educations/delete/selectors';\r\nimport {allEducationsChangeSort} from '../../../redux/educations/all/actions';\r\nimport thunkAllEducations from '../../../redux/educations/all/thunks';\r\nimport thunkDeleteEducation from '../../../redux/educations/delete/thunks';\r\nimport {IEducation} from '../../../interfaces/models/IEducation';\r\n\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\t...selectAllEducationsState(state),\r\n\tdeleting: selectDeleteEducations(state)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n\tchangeSort(field: string) {\r\n\t\tdispatch(allEducationsChangeSort(field));\r\n\t\tdispatch(thunkAllEducations(1));\r\n\t},\r\n\tload(page = 1) {\r\n\t\tdispatch(thunkAllEducations(page));\r\n\t},\r\n\tdeleteItem(id: number) {\r\n\t\tdispatch(thunkDeleteEducation(id));\r\n\t}\r\n});\r\n\r\nconst connected = connect(mapStateToProps, mapDispatchToProps);\r\n\r\ntype IHonorsTableProps = ConnectedProps<typeof connected>;\r\nconst EducationsTable: React.FC<IHonorsTableProps> = (props) => {\r\n\tuseEffect(() => {\r\n\t\tif (!props.isLoading && !props.educations.length)\r\n\t\t\tprops.load();\r\n\t}, []);\r\n\r\n\tconst {t} = useTranslation();\r\n\r\n\treturn (\r\n\t\t<div className=\"table-wrapper\">\r\n\t\t\t<Table striped bordered hover style={{minWidth: \"600px\"}}>\r\n\t\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>\r\n\t\t\t\t\t\t<span className=\"pull-left\">ID</span>\r\n\r\n\t\t\t\t\t\t<SortItem\r\n\t\t\t\t\t\t\tstate={findSortRule(props.sort, 'ID')?.direction}\r\n\t\t\t\t\t\t\tchange={props.changeSort}\r\n\t\t\t\t\t\t\tparam=\"ID\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</th>\r\n\r\n\t\t\t\t\t<th>\r\n\t\t\t\t\t<span className=\"pull-left\">\r\n\t\t\t\t\t\t{t('educations.all.user')}\r\n\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t<SortItem\r\n\t\t\t\t\t\t\tstate={findSortRule(props.sort, 'user')?.direction}\r\n\t\t\t\t\t\t\tchange={props.changeSort}\r\n\t\t\t\t\t\t\tparam=\"user\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</th>\r\n\r\n\t\t\t\t\t<th>\r\n\t\t\t\t\t\t<span className=\"pull-left\">\r\n\t\t\t\t\t\t\t{t('educations.all.qualification')}\r\n\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t<SortItem\r\n\t\t\t\t\t\t\tstate={findSortRule(props.sort, 'qualification')?.direction}\r\n\t\t\t\t\t\t\tchange={props.changeSort}\r\n\t\t\t\t\t\t\tparam=\"qualification\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</th>\r\n\r\n\t\t\t\t\t<th>\r\n\t\t\t\t\t<span className=\"pull-left\">\r\n\t\t\t\t\t\t{t('educations.all.graduateYear')}\r\n\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t<SortItem\r\n\t\t\t\t\t\t\tstate={findSortRule(props.sort, 'graduateYear')?.direction}\r\n\t\t\t\t\t\t\tchange={props.changeSort}\r\n\t\t\t\t\t\t\tparam=\"graduateYear\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</th>\r\n\r\n\t\t\t\t\t<th>{t('common.actions')}</th>\r\n\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t{\r\n\t\t\t\t\tprops.isLoading &&\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th colSpan={6} className=\"text-center\">\r\n\t\t\t\t\t\t\t<Loader/>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tprops.error &&\r\n\t\t\t\t\t<tr className=\"text-center text-danger\">\r\n\t\t\t\t\t\t<th colSpan={6} className=\"text-center\">\r\n\t\t\t\t\t\t\t<ErrorElement error={props.error}/>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\t!props.isLoading && !props.error && !props.educations.length &&\r\n\t\t\t\t\t<tr className=\"font-weight-bold text-center\">\r\n\t\t\t\t\t\t<th colSpan={6} className=\"text-center\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tt('common.noItems', {\r\n\t\t\t\t\t\t\t\t\twhat: t('educations.all.noForm')\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\t!props.isLoading && !props.error &&\r\n\t\t\t\t\tprops.educations.map((education: IEducation) => (\r\n\t\t\t\t\t\t<EducationItem\r\n\t\t\t\t\t\t\tkey={education.id}\r\n\t\t\t\t\t\t\teducation={education}\r\n\t\t\t\t\t\t\tisDeleting={props.deleting.findIndex((id: number) => id == education.id) == -1}\r\n\t\t\t\t\t\t\tdel={props.deleteItem}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))\r\n\t\t\t\t}\r\n\t\t\t\t</tbody>\r\n\t\t\t</Table>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default connected(EducationsTable);\r\n","import React, {useEffect} from 'react';\r\nimport {Button, Card, Row} from 'react-bootstrap';\r\nimport {Link} from 'react-router-dom';\r\nimport {connect, ConnectedProps} from 'react-redux';\r\nimport {useTranslation} from 'react-i18next';\r\n\r\nimport {RootState} from '../../../redux';\r\n\r\nimport BackButton from '../../../common/BackButton';\r\nimport Paginator from '../../../common/Paginator';\r\nimport UserCan from '../../../common/UserCan';\r\nimport {Roles} from '../../../utils/helpers/RoleCodeToName';\r\nimport {selectAllEducationsPagination} from '../../../redux/educations/all/selectors';\r\nimport thunkAllEducations from '../../../redux/educations/all/thunks';\r\nimport EducationsFilterForm from './EducationsFilterForm';\r\nimport EducationsTable from './EducationsTable';\r\n\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\tpaginator: selectAllEducationsPagination(state)\r\n});\r\n\r\nconst connected = connect(mapStateToProps, {changePage: thunkAllEducations});\r\n\r\ntype IAllEducationsPageProps = ConnectedProps<typeof connected>;\r\nconst AllEducationsPage: React.FC<IAllEducationsPageProps> = ({changePage, paginator}) => {\r\n\tconst {t} = useTranslation();\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = t('educations.all.pageTitle');\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"title\">\r\n\t\t\t\t{t('educations.name')}\r\n\t\t\t</div>\r\n\r\n\t\t\t<Card className=\"mr-5\">\r\n\t\t\t\t<Card.Body>\r\n\t\t\t\t\t<div className=\"model__filter-form\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<UserCan role={Roles.MODERATOR}>\r\n\t\t\t\t\t\t\t\t<Link to=\"/educations/add\">\r\n\t\t\t\t\t\t\t\t\t<Button variant=\"success\">\r\n\t\t\t\t\t\t\t\t\t\t{t('common.add')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</UserCan>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<EducationsFilterForm onSubmit={() => changePage(1)}/>\r\n\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center w-100\">\r\n\t\t\t\t\t\t<EducationsTable/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"d-flex my-3 justify-content-end w-100\">\r\n\t\t\t\t\t\t<Paginator {...paginator} setCur={changePage}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card.Body>\r\n\r\n\t\t\t\t<Card.Footer>\r\n\t\t\t\t\t<Row className=\"justify-content-between p-2\">\r\n\t\t\t\t\t\t<BackButton/>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card.Footer>\r\n\t\t\t</Card>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default connected(AllEducationsPage);\r\n","import {RootState} from '../../index';\r\n\r\n\r\nexport const selectEditEducationState = (state: RootState) => state.educations.edit;\r\nexport const selectEditEducation = (state: RootState) => selectEditEducationState(state).education;\r\n","import {ThunkAction, ThunkDispatch} from 'redux-thunk';\r\n\r\nimport {IEditEducationActions} from '../reducer';\r\nimport {RootState} from '../../../';\r\n\r\nimport {editEducationLoadStart, editEducationLoadError, editEducationLoadSuccess} from '../actions';\r\nimport educationsApi from '../../../../utils/api/models/educationsApi';\r\n\r\n\r\nexport type IEditEducationLoadThunkAction = ThunkAction<void, RootState, unknown, IEditEducationActions>;\r\n\r\nconst thunkEditEducationLoad = (id: number): IEditEducationLoadThunkAction => {\r\n\treturn async (dispatch: ThunkDispatch<{}, {}, IEditEducationActions>) => {\r\n\t\tdispatch(editEducationLoadStart());\r\n\r\n\t\ttry{\r\n\t\t\tconst resp = await educationsApi.getEducation(id);\r\n\t\t\tdispatch(editEducationLoadSuccess(resp.data.data));\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tdispatch(editEducationLoadError(e.response?.data.message || e.message));\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport default thunkEditEducationLoad;\r\n","import {\r\n\tEDIT_EDUCATION_LOAD_ERROR,\r\n\tEDIT_EDUCATION_LOAD_START,\r\n\tEDIT_EDUCATION_LOAD_SUCCESS\r\n} from './types';\r\n\r\nimport {IEducation} from '../../../interfaces/models/IEducation';\r\n\r\n\r\nexport const editEducationLoadStart = () => <const>({\r\n\ttype: EDIT_EDUCATION_LOAD_START\r\n});\r\n\r\nexport const editEducationLoadError = (error: string) => <const>({\r\n\ttype: EDIT_EDUCATION_LOAD_ERROR,\r\n\terror\r\n});\r\n\r\nexport const editEducationLoadSuccess = (education: IEducation) => <const>({\r\n\ttype: EDIT_EDUCATION_LOAD_SUCCESS,\r\n\tpayload: education\r\n});\r\n","import {ThunkAction, ThunkDispatch} from 'redux-thunk';\r\nimport {Action} from 'redux';\r\nimport {startSubmit, stopSubmit} from 'redux-form';\r\nimport {toast} from 'react-toastify';\r\n\r\nimport {RootState} from '../../../index';\r\nimport educationsApi from '../../../../utils/api/models/educationsApi';\r\n\r\n\r\nexport type IEducationEditThunkAction = ThunkAction<void, RootState, unknown, Action<any>>;\r\n\r\nconst thunkEditEducation = (id: number, vals: any): IEducationEditThunkAction => {\r\n\treturn async (dispatch: ThunkDispatch<{}, {}, Action<any>>) => {\r\n\t\tdispatch(startSubmit('educationsEditForm'));\r\n\r\n\t\ttry{\r\n\t\t\tawait educationsApi.editEducation(id, vals);\r\n\r\n\t\t\tdispatch(stopSubmit('educationsEditForm'));\r\n\t\t\ttoast.success('Образование отредактировано');\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tdispatch(stopSubmit('educationsEditForm', {\r\n\t\t\t\t_error: e.response?.data.message || e.message,\r\n\t\t\t\t...e.response?.data.errors\r\n\t\t\t}));\r\n\r\n\t\t\ttoast.error(e.response?.data.message || e.message);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport default thunkEditEducation;\r\n","import React, {useEffect} from 'react';\r\nimport {reduxForm, InjectedFormProps, Field} from 'redux-form';\r\nimport {Translation} from 'react-i18next';\r\nimport {connect, ConnectedProps} from 'react-redux';\r\n\r\nimport InputElement from '../../../common/formElements/InputElement';\r\nimport required from '../../../utils/validators/required';\r\nimport DataListElement from '../../../common/formElements/DataListElement';\r\nimport {RootState} from '../../../redux';\r\nimport {selectEditEducation} from '../../../redux/educations/edit/selectors';\r\nimport positiveNumber from '../../../utils/validators/positiveNumber';\r\nimport SelectElement from '../../../common/formElements/SelectElement';\r\n\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\teducation: selectEditEducation(state)\r\n});\r\n\r\nconst connected = connect(mapStateToProps);\r\n\r\nexport type IEducationsEditData = {\r\n\tuser: number,\r\n\tqualification: string,\r\n\tinstitution: string,\r\n\tgraduateYear: number,\r\n\tspecialty: string\r\n};\r\n\r\ntype IOwnProps = ConnectedProps<typeof connected>;\r\n\r\ntype IEducationsEditFormProps = InjectedFormProps<IEducationsEditData, IOwnProps> & IOwnProps;\r\nconst EducationsEditForm: React.FC<IEducationsEditFormProps> = (props) => {\r\n\tconst {handleSubmit, error, initialize, education} = props;\r\n\t\r\n\tuseEffect(() => {\r\n\t\tinitialize({...education, graduateYear: education.graduate_year} as any);\r\n\t}, []);\r\n\t\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\r\n\t\t\t{\r\n\t\t\t\terror &&\r\n\t\t\t\t<div>{error}</div>\r\n\t\t\t}\r\n\r\n\t\t\t<div className=\"d-md-flex w-100\">\r\n\t\t\t\t<Translation>\r\n\t\t\t\t\t{t => (\r\n\t\t\t\t\t\t<div className=\"w-100 pr-3\">\r\n\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\tcomponent={DataListElement}\r\n\t\t\t\t\t\t\t\tname=\"user\"\r\n\t\t\t\t\t\t\t\tplaceholder={t('educations.edit.user')}\r\n\t\t\t\t\t\t\t\turl={`${process.env.REACT_APP_SERVER_URL}/search/users`}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\tcomponent={InputElement}\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"institution\"\r\n\t\t\t\t\t\t\t\tlabel={t('educations.edit.institution')}\r\n\t\t\t\t\t\t\t\tvalidate={[required]}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\tcomponent={SelectElement}\r\n\t\t\t\t\t\t\t\tname=\"qualification\"\r\n\t\t\t\t\t\t\t\tlabel={t(\"educations.all.qualification\")}\r\n\t\t\t\t\t\t\t\tonlyInvalid\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option value={0}>{t('profile.tabs.educations.qualList.1')}</option>\r\n\t\t\t\t\t\t\t\t<option value={1}>{t('profile.tabs.educations.qualList.2')}</option>\r\n\t\t\t\t\t\t\t\t<option value={2}>{t('profile.tabs.educations.qualList.3')}</option>\r\n\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Translation>\r\n\r\n\t\t\t\t<Translation>\r\n\t\t\t\t\t{t => (\r\n\t\t\t\t\t\t<div className=\"w-100 pl-3\">\r\n\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\tcomponent={InputElement}\r\n\t\t\t\t\t\t\t\tname=\"graduateYear\"\r\n\t\t\t\t\t\t\t\tlabel={t('educations.edit.graduateYear')}\r\n\t\t\t\t\t\t\t\tvalidate={[required, positiveNumber]}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\tcomponent={InputElement}\r\n\t\t\t\t\t\t\t\tname=\"specialty\"\r\n\t\t\t\t\t\t\t\tlabel={t('educations.edit.specialty')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Translation>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default connected(\r\n\t\treduxForm<IEducationsEditData, IOwnProps>({\r\n\t\t\tform: 'educationsEditForm'\r\n\t\t})(EducationsEditForm)\r\n);\r\n","import React, {useEffect} from 'react';\r\nimport {Button, Card, Row, Spinner} from 'react-bootstrap';\r\nimport {connect, ConnectedProps} from 'react-redux';\r\nimport {RouteComponentProps} from 'react-router-dom';\r\nimport {isSubmitting, submit} from 'redux-form';\r\nimport {useTranslation} from 'react-i18next';\r\n\r\nimport {RootState} from '../../../redux';\r\nimport BackButton from '../../../common/BackButton';\r\nimport ErrorElement from '../../../common/ErrorElement';\r\nimport Loader from '../../../common/Loader/Loader';\r\nimport IsUserRoleMore from '../../../utils/HOC/IsUserRoleMore';\r\nimport {Roles} from '../../../utils/helpers/RoleCodeToName';\r\nimport {selectEditEducationState} from '../../../redux/educations/edit/selectors';\r\nimport thunkEditEducationLoad from '../../../redux/educations/edit/thunks/thunkEditEducationLoad';\r\nimport thunkEditEducation from '../../../redux/educations/edit/thunks/thunkEditEducation';\r\nimport EditEducationForm, {IEducationsEditData} from './EditEducationForm';\r\n\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\teditState: selectEditEducationState(state),\r\n\tsubmitting: isSubmitting('educationsEditForm')(state)\r\n});\r\n\r\nconst connected = connect(mapStateToProps, {\r\n\tloadEducation: thunkEditEducationLoad,\r\n\tsend: submit,\r\n\teditEducation: thunkEditEducation\r\n});\r\n\r\ntype IEditEducationPageProps = ConnectedProps<typeof connected> & RouteComponentProps<{id?: string}>;\r\nconst EditEducationPage: React.FC<IEditEducationPageProps> = ({editState, loadEducation, ...props}) => {\r\n\tconst {t} = useTranslation();\r\n\r\n\tuseEffect(() => {\r\n\t\tloadEducation(+props.match.params.id);\r\n\t\tdocument.title = t('educations.edit.pageTitle');\r\n\t}, []);\r\n\r\n\tconst clickHandler = () => {\r\n\t\tprops.send('educationsEditForm');\r\n\t};\r\n\r\n\tconst submitHandler = (vals: IEducationsEditData) => {\r\n\t\tprops.editEducation(+props.match.params.id, vals);\r\n\t};\r\n\r\n\tif(!editState.education && !editState.isLoading)\r\n\t\treturn null;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"title\">{t('educations.edit.pageTitle')}</div>\r\n\r\n\t\t\t<Card className=\"mr-5\">\r\n\t\t\t\t<Card.Body>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\teditState.isLoading &&\r\n\t\t\t\t\t\t\t<Loader/>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!editState.isLoading && editState.error &&\r\n\t\t\t\t\t\t\t<ErrorElement error={editState.error}/>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!editState.isLoading && !editState.error &&\r\n\t\t\t\t\t\t\t<EditEducationForm onSubmit={submitHandler}/>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Card.Body>\r\n\r\n\t\t\t\t<Card.Footer>\r\n\t\t\t\t\t<Row className=\"justify-content-between p-2\">\r\n\t\t\t\t\t\t<BackButton/>\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t!editState.isLoading && !editState.error &&\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant=\"warning\"\r\n\t\t\t\t\t\t\t\t\tonClick={clickHandler}\r\n\t\t\t\t\t\t\t\t\tdisabled={props.submitting}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tprops.submitting &&\r\n\t\t\t\t\t\t\t\t\t\t\t<Spinner animation=\"border\" size=\"sm\"/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t{t('common.edit')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card.Footer>\r\n\t\t\t</Card>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default IsUserRoleMore(Roles.MODERATOR, true)(connected(EditEducationPage));\r\n","import {ThunkAction, ThunkDispatch} from 'redux-thunk';\r\nimport {Action} from 'redux';\r\nimport {reset, startSubmit, stopSubmit} from 'redux-form';\r\nimport {toast} from 'react-toastify';\r\n\r\nimport {RootState} from '../../index';\r\nimport educationsApi from '../../../utils/api/models/educationsApi';\r\n\r\n\r\nexport type IAddEducationThunkAction = ThunkAction<void, RootState, unknown, Action<any>>;\r\n\r\nconst thunkAddEducation = (vals: any): IAddEducationThunkAction => {\r\n\treturn async (dispatch: ThunkDispatch<{}, {}, Action<any>>) => {\r\n\t\tdispatch(startSubmit('educationsAddForm'));\r\n\r\n\t\ttry{\r\n\t\t\tawait educationsApi.addEducation(vals);\r\n\t\t\tdispatch(stopSubmit('educationsAddForm'));\r\n\t\t\tdispatch(reset('educationsAddForm'));\r\n\r\n\t\t\ttoast.success('Образование добавлено');\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tdispatch(stopSubmit('educationsAddForm', {\r\n\t\t\t\t_error: e.response?.data.message || e.message,\r\n\t\t\t\t...e.response?.data.errors\r\n\t\t\t}));\r\n\r\n\t\t\ttoast.error(e.response?.data.message || e.message);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport default thunkAddEducation;\r\n","import React from 'react';\r\nimport {reduxForm, InjectedFormProps, Field} from 'redux-form';\r\nimport {Translation} from 'react-i18next';\r\n\r\nimport InputElement from '../../../common/formElements/InputElement';\r\nimport required from '../../../utils/validators/required';\r\nimport DataListElement from '../../../common/formElements/DataListElement';\r\nimport positiveNumber from '../../../utils/validators/positiveNumber';\r\nimport SelectElement from '../../../common/formElements/SelectElement';\r\n\r\n\r\nexport type IEducationsAddData = {\r\n\tinstitution: string,\r\n\tgraduateYear: string,\r\n\tqualification: number,\r\n\tuser: number,\r\n\tspecialty?: string\r\n};\r\n\r\ntype IEducationsAddFormProps = InjectedFormProps<IEducationsAddData>;\r\nconst EducationsAddForm: React.FC<IEducationsAddFormProps> = ({handleSubmit, error}) => (\r\n\t<form onSubmit={handleSubmit}>\r\n\r\n\t\t{\r\n\t\t\terror &&\r\n\t\t\t\t<div>{error}</div>\r\n\t\t}\r\n\t\t\r\n\t\t<div className=\"d-md-flex w-100\">\r\n\t\t\t<Translation>\r\n\t\t\t\t{t => (\r\n\t\t\t\t\t<div className=\"w-100 pr-3\">\r\n\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\tcomponent={DataListElement}\r\n\t\t\t\t\t\t\tname=\"user\"\r\n\t\t\t\t\t\t\tplaceholder={t('educations.add.user')}\r\n\t\t\t\t\t\t\turl={`${process.env.REACT_APP_SERVER_URL}/search/users`}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\tcomponent={InputElement}\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"institution\"\r\n\t\t\t\t\t\t\tlabel={t('educations.add.institution')}\r\n\t\t\t\t\t\t\tvalidate={[required]}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\tcomponent={SelectElement}\r\n\t\t\t\t\t\t\tname=\"qualification\"\r\n\t\t\t\t\t\t\tlabel={t(\"educations.all.qualification\")}\r\n\t\t\t\t\t\t\tonlyInvalid\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value={0} selected>{t('profile.tabs.educations.qualList.1')}</option>\r\n\t\t\t\t\t\t\t<option value={1}>{t('profile.tabs.educations.qualList.2')}</option>\r\n\t\t\t\t\t\t\t<option value={2}>{t('profile.tabs.educations.qualList.3')}</option>\r\n\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Translation>\r\n\r\n\t\t\t<Translation>\r\n\t\t\t\t{t => (\r\n\t\t\t\t\t<div className=\"w-100 pl-3\">\r\n\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\tcomponent={InputElement}\r\n\t\t\t\t\t\t\tname=\"graduateYear\"\r\n\t\t\t\t\t\t\tlabel={t('educations.add.graduateYear')}\r\n\t\t\t\t\t\t\tvalidate={[required, positiveNumber]}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\tcomponent={InputElement}\r\n\t\t\t\t\t\t\tname=\"specialty\"\r\n\t\t\t\t\t\t\tlabel={t('educations.add.specialty')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Translation>\r\n\t\t</div>\r\n\t</form>\r\n);\r\n\r\nexport default reduxForm<IEducationsAddData>({\r\n\tform: 'educationsAddForm'\r\n})(EducationsAddForm);\r\n","import React, {useEffect} from 'react';\r\nimport {Button, Card, Row, Spinner} from 'react-bootstrap';\r\nimport {ConnectedProps, connect} from 'react-redux';\r\nimport {submit, isSubmitting} from 'redux-form';\r\nimport {useTranslation} from 'react-i18next';\r\n\r\nimport {RootState} from '../../../redux';\r\nimport BackButton from '../../../common/BackButton';\r\nimport IsUserRoleMore from '../../../utils/HOC/IsUserRoleMore';\r\nimport {Roles} from '../../../utils/helpers/RoleCodeToName';\r\nimport thunkAddEducation from '../../../redux/educations/add/thunks';\r\nimport AddEducationForm from './AddEducationForm';\r\n\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\tsubmitting: isSubmitting('educationsAddForm')(state)\r\n});\r\n\r\nconst connected = connect(mapStateToProps, {\r\n\tadd: thunkAddEducation,\r\n\tsend: submit\r\n});\r\n\r\ntype IAddEducationPageProps = ConnectedProps<typeof connected>;\r\nconst AddEducationPage: React.FC<IAddEducationPageProps> = ({add, send, submitting}) => {\r\n\tconst {t} = useTranslation();\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = t('educations.add.pageTitle');\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"title\">\r\n\t\t\t\t{t('educations.add.pageTitle')}\r\n\t\t\t</div>\r\n\r\n\t\t\t<Card className=\"mr-5\">\r\n\t\t\t\t<Card.Body>\r\n\t\t\t\t\t<AddEducationForm onSubmit={add}/>\r\n\t\t\t\t</Card.Body>\r\n\r\n\t\t\t\t<Card.Footer>\r\n\t\t\t\t\t<Row className=\"justify-content-between p-2\">\r\n\t\t\t\t\t\t<BackButton/>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"success\"\r\n\t\t\t\t\t\t\tonClick={() => send('educationsAddForm')}\r\n\t\t\t\t\t\t\tdisabled={submitting}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{submitting && <Spinner size=\"sm\" animation=\"border\"/>}\r\n\t\t\t\t\t\t\t{t('common.add')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card.Footer>\r\n\t\t\t</Card>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default IsUserRoleMore(Roles.MODERATOR, true)(connected(AddEducationPage));\r\n","import React from 'react';\r\nimport {Trans} from 'react-i18next';\r\n\r\nimport {IEducation} from '../../../interfaces/models/IEducation';\r\n\r\n\r\ntype IEducationInfoProps = {\r\n\teducation: IEducation\r\n}\r\n\r\nconst EducationInfo: React.FC<IEducationInfoProps> = ({education}) => (\r\n\t<div>\r\n\t\t<Trans i18nKey=\"educations.single.info.id\">\r\n\t\t\t<div>ID: {{id: education.id}}</div>\r\n\t\t</Trans>\r\n\r\n\t\t<Trans i18nKey=\"educations.single.info.user\">\r\n\t\t\t<div>User: {{user: education.user.fullName}}</div>\r\n\t\t</Trans>\r\n\r\n\t\t<Trans i18nKey=\"educations.single.info.institution\">\r\n\t\t\t<div>Institution: {{institution: education.institution}}</div>\r\n\t\t</Trans>\r\n\r\n\t\t<Trans i18nKey=\"educations.single.info.qualification\">\r\n\t\t\t<div>Qualification: {{qualification: education.qualification}}</div>\r\n\t\t</Trans>\r\n\r\n\t\t<Trans i18nKey=\"educations.single.info.specialty\">\r\n\t\t\t<div>Specialty: {{specialty: education.specialty}}</div>\r\n\t\t</Trans>\r\n\r\n\t\t<Trans i18nKey=\"educations.single.info.graduateYear\">\r\n\t\t\t<div>Graduate year: {{graduateYear: education.graduate_year}}</div>\r\n\t\t</Trans>\r\n\t</div>\r\n);\r\n\r\nexport default EducationInfo;\r\n","import {ThunkAction, ThunkDispatch} from 'redux-thunk';\r\nimport {Action} from 'redux';\r\nimport {toast} from 'react-toastify';\r\n\r\nimport {RootState} from '../../';\r\nimport {educationSingleError, educationSingleStart, educationSingleSuccess} from './actions';\r\nimport educationsApi from '../../../utils/api/models/educationsApi';\r\n\r\n\r\nexport type IEducationSingleThunkAction = ThunkAction<void, RootState, unknown, Action<any>>;\r\n\r\nconst thunkSingleEducation = (id: number): IEducationSingleThunkAction => {\r\n\treturn async (dispatch: ThunkDispatch<{}, {}, Action<any>>) => {\r\n\t\tdispatch(educationSingleStart());\r\n\r\n\t\ttry{\r\n\t\t\tconst resp = await educationsApi.getEducation(id);\r\n\t\t\tdispatch(educationSingleSuccess(resp.data.data));\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tdispatch(educationSingleError(e.response?.data.message || e.message));\r\n\t\t\ttoast.error(e.response?.data.message || e.message);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport default thunkSingleEducation;\r\n","import {\r\n\tEDUCATION_SINGLE_ERROR,\r\n\tEDUCATION_SINGLE_START,\r\n\tEDUCATION_SINGLE_SUCCESS\r\n} from './types';\r\nimport {IEducation} from '../../../interfaces/models/IEducation';\r\n\r\n\r\nexport const educationSingleStart = () => <const>({\r\n\ttype: EDUCATION_SINGLE_START\r\n});\r\n\r\nexport const educationSingleError = (error: string) => <const>({\r\n\ttype: EDUCATION_SINGLE_ERROR,\r\n\terror\r\n});\r\n\r\nexport const educationSingleSuccess = (education: IEducation) => <const>({\r\n\ttype: EDUCATION_SINGLE_SUCCESS,\r\n\tpayload: education\r\n});\r\n","import {RootState} from '../../';\r\n\r\n\r\nexport const selectEducationSingleState = (state: RootState) => state.educations.single;\r\n\r\n//@ts-ignore\r\nexport const selectEducationSingle = (state: RootState) => selectEducationSingleState(state).education;\r\n","import React, {useEffect} from 'react';\r\nimport {RouteComponentProps} from 'react-router';\r\nimport {Button, Card, Row} from 'react-bootstrap';\r\nimport {useTranslation} from 'react-i18next';\r\nimport {Link} from 'react-router-dom';\r\nimport {connect, ConnectedProps} from 'react-redux';\r\n\r\nimport BackButton from '../../../common/BackButton';\r\nimport {RootState} from '../../../redux';\r\nimport Loader from '../../../common/Loader/Loader';\r\nimport ErrorElement from '../../../common/ErrorElement';\r\nimport EducationInfo from './EducationInfo';\r\nimport thunkSingleEducation from '../../../redux/educations/single/thunks';\r\nimport {selectEducationSingleState} from '../../../redux/educations/single/selectors';\r\n\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n\t...selectEducationSingleState(state)\r\n});\r\n\r\nconst connected = connect(mapStateToProps, {load: thunkSingleEducation});\r\n\r\ntype ISingleEducationPageProps = RouteComponentProps<{id: string}> & ConnectedProps<typeof connected>;\r\nconst SingleEducationPage: React.FC<ISingleEducationPageProps> = (props) => {\r\n\tconst {match, isLoading, error, education, load} = props;\r\n\tconst {t} = useTranslation();\r\n\r\n\tuseEffect(() => {\r\n\t\tload(+match.params.id);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"title\">\r\n\t\t\t\t{t('educations.single.pageTitle')}\r\n\t\t\t</div>\r\n\r\n\t\t\t<Card className=\"mr-5\">\r\n\t\t\t\t<Card.Body>\r\n\t\t\t\t\t{isLoading && <Loader/>}\r\n\t\t\t\t\t{!isLoading && error && <ErrorElement error={error}/>}\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!isLoading && !error && education &&\r\n\t\t\t\t\t\t\t<EducationInfo education={education}/>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Card.Body>\r\n\r\n\t\t\t\t<Card.Footer>\r\n\t\t\t\t\t<Row className=\"justify-content-between p-2\">\r\n\t\t\t\t\t\t<BackButton/>\r\n\r\n\t\t\t\t\t\t<Link to={`/educations/${match.params.id}/edit`}>\r\n\t\t\t\t\t\t\t<Button variant=\"warning\">\r\n\t\t\t\t\t\t\t\t{t('common.edit')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card.Footer>\r\n\t\t\t</Card>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default connected(SingleEducationPage);\r\n","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\n\r\nimport NotFoundPage from '../ErrorPages/NotFoundPage';\r\nimport AllEducationsPage from './all';\r\nimport EditEducationPage from './edit';\r\nimport AddEducationPage from './add';\r\nimport SingleEducationPage from './single';\r\n\r\nimport IsUserRoleMore from '../../utils/HOC/IsUserRoleMore';\r\nimport {Roles} from '../../utils/helpers/RoleCodeToName';\r\n\r\n\r\nconst Educations: React.FC<{}> = () => (\r\n\t<Switch>\r\n\t\t<Route path=\"/educations\" exact component={AllEducationsPage}/>\r\n\t\t<Route path=\"/educations/add\" exact component={AddEducationPage}/>\r\n\t\t<Route path=\"/educations/:id/edit\" exact component={EditEducationPage}/>\r\n\t\t<Route path=\"/educations/:id\" exact component={SingleEducationPage}/>\r\n\t\t<Route path=\"/\" component={NotFoundPage}/>\r\n\t</Switch>\r\n);\r\n\r\nexport default IsUserRoleMore(Roles.VIEWER, true)(Educations);\r\n"],"sourceRoot":""}